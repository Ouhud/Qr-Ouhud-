{% extends "base.html" %}
{% block title %}âœ… vCard erstellt â€“ Ouhud QR{% endblock %}

{% block content %}

<section class="qr-generator vcard-generator" style="max-width:850px;margin:2rem auto;text-align:center;">

    <!-- âœ… Ãœberschrift -->
    <h1 style="color:var(--primary);font-size:2rem;font-weight:700;margin-bottom:1rem;">
        âœ… vCard erfolgreich erstellt!
    </h1>

    <!-- âœ… QR-Bild -->
    {% if qr and qr.image_path %}
    <div style="margin:2rem 0;">
        <img src="/{{ qr.image_path }}"
             alt="QR-Code"
             style="width:320px;height:320px;border-radius:14px;box-shadow:0 6px 20px rgba(0,0,0,.12);">
    </div>
    {% endif %}

    <!-- âœ… Dynamischer Link -->
    {% if dynamic_url %}
    <p style="font-size:1.1rem;color:#1e293b;margin-bottom:2rem;">
        ğŸ“ <strong>Dynamischer Link:</strong><br>
        <a href="{{ dynamic_url }}" target="_blank"
           style="color:var(--accent);font-weight:600;">
           {{ dynamic_url }}
        </a>
    </p>
    {% endif %}

    <!-- âœ… Aktionen -->
    <div style="display:flex;justify-content:center;flex-wrap:wrap;gap:1rem;margin-top:2rem;">

        <!-- ğŸ‘ï¸ vCard ansehen -->
        {% if qr %}
        <a href="/qr/vcard/v/{{ qr.slug }}"
           class="btn primary"
           style="padding:0.85rem 1.4rem;border-radius:12px;font-size:1rem;">
           ğŸ‘ï¸ vCard anzeigen
        </a>
        {% endif %}

        <!-- âœï¸ Bearbeiten -->
        {% if qr %}
        <a href="/qr/edit/{{ qr.slug }}"
           class="btn secondary"
           style="padding:0.85rem 1.4rem;border-radius:12px;font-size:1rem;">
           âœï¸ vCard bearbeiten
        </a>
        {% endif %}

        <!-- ğŸ’¾ vCard Download -->
        {% if qr %}
        <a href="/qr/vcard/{{ qr.slug }}.vcf"
           class="btn primary"
           style="padding:0.85rem 1.4rem;border-radius:12px;font-size:1rem;">
           ğŸ’¾ vCard (.vcf) Download
        </a>
        {% endif %}

        {% if vcard and vcard.apple_wallet_url %}
        <a href="{{ vcard.apple_wallet_url }}"
           class="btn secondary"
           target="_blank"
           rel="noopener"
           style="padding:0.85rem 1.4rem;border-radius:12px;font-size:1rem;">
           ğŸ Apple Wallet
        </a>
        {% endif %}

        {% if vcard and vcard.google_wallet_url %}
        <a href="{{ vcard.google_wallet_url }}"
           class="btn secondary"
           target="_blank"
           rel="noopener"
           style="padding:0.85rem 1.4rem;border-radius:12px;font-size:1rem;">
           ğŸ¤– Google Wallet
        </a>
        {% endif %}

        <button type="button"
                class="btn secondary"
                onclick="window.print()"
                style="padding:0.85rem 1.4rem;border-radius:12px;font-size:1rem;">
           ğŸ–¨ï¸ Drucken
        </button>

        <!-- â• Neue erstellen -->
        <a href="/qr/vcard/new"
           class="btn"
           style="background:#e2e8f0;padding:0.85rem 1.4rem;border-radius:12px;font-size:1rem;color:#1e293b;">
           â• Neue vCard erstellen
        </a>

    </div>

</section>

<script>
  function printQR() {
    window.print();
  }
</script>

{% endblock %}
